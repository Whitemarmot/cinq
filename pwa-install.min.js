!function(){"use strict";let n=null,t=null;const e=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone,a="cinq-pwa-dismiss";function i(){localStorage.setItem(a,Date.now().toString())}function s(){if(document.getElementById("pwa-install-styles"))return;const n=document.createElement("style");n.id="pwa-install-styles",n.textContent="\n      .pwa-install-banner {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\n        border-top: 1px solid rgba(99, 102, 241, 0.3);\n        padding: 16px;\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        z-index: 10000;\n        transform: translateY(100%);\n        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.4);\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\n      }\n      \n      .pwa-install-banner.visible {\n        transform: translateY(0);\n      }\n      \n      .pwa-install-banner.hiding {\n        transform: translateY(100%);\n      }\n      \n      .pwa-install-icon {\n        width: 48px;\n        height: 48px;\n        border-radius: 12px;\n        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 24px;\n        font-weight: 800;\n        color: white;\n        flex-shrink: 0;\n      }\n      \n      .pwa-install-content {\n        flex: 1;\n        min-width: 0;\n      }\n      \n      .pwa-install-title {\n        font-size: 15px;\n        font-weight: 600;\n        color: white;\n        margin: 0 0 2px 0;\n      }\n      \n      .pwa-install-subtitle {\n        font-size: 13px;\n        color: rgba(255, 255, 255, 0.7);\n        margin: 0;\n      }\n      \n      .pwa-install-actions {\n        display: flex;\n        gap: 8px;\n        flex-shrink: 0;\n      }\n      \n      .pwa-install-btn {\n        padding: 10px 16px;\n        border-radius: 8px;\n        font-size: 14px;\n        font-weight: 600;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        border: none;\n        font-family: inherit;\n      }\n      \n      .pwa-install-btn-primary {\n        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\n        color: white;\n      }\n      \n      .pwa-install-btn-primary:hover {\n        transform: scale(1.02);\n        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);\n      }\n      \n      .pwa-install-btn-secondary {\n        background: rgba(255, 255, 255, 0.1);\n        color: rgba(255, 255, 255, 0.8);\n      }\n      \n      .pwa-install-btn-secondary:hover {\n        background: rgba(255, 255, 255, 0.15);\n      }\n      \n      /* iOS Safari hint */\n      .pwa-ios-hint {\n        position: fixed;\n        bottom: 20px;\n        left: 16px;\n        right: 16px;\n        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\n        border: 1px solid rgba(99, 102, 241, 0.3);\n        border-radius: 16px;\n        padding: 20px;\n        z-index: 10000;\n        transform: translateY(150%);\n        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\n      }\n      \n      .pwa-ios-hint.visible {\n        transform: translateY(0);\n      }\n      \n      .pwa-ios-close {\n        position: absolute;\n        top: 12px;\n        right: 12px;\n        width: 28px;\n        height: 28px;\n        border-radius: 50%;\n        background: rgba(255, 255, 255, 0.1);\n        border: none;\n        color: rgba(255, 255, 255, 0.6);\n        font-size: 18px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      \n      .pwa-ios-title {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        margin-bottom: 16px;\n      }\n      \n      .pwa-ios-title h3 {\n        font-size: 17px;\n        font-weight: 600;\n        color: white;\n        margin: 0;\n      }\n      \n      .pwa-ios-steps {\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n      }\n      \n      .pwa-ios-step {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        color: rgba(255, 255, 255, 0.9);\n        font-size: 14px;\n      }\n      \n      .pwa-ios-step-icon {\n        width: 32px;\n        height: 32px;\n        background: rgba(99, 102, 241, 0.2);\n        border-radius: 8px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 18px;\n        flex-shrink: 0;\n      }\n      \n      @media (max-width: 380px) {\n        .pwa-install-subtitle { display: none; }\n        .pwa-install-btn { padding: 8px 12px; font-size: 13px; }\n      }\n    ",document.head.appendChild(n)}function o(){t||(s(),t=function(){const n=document.createElement("div");return n.className="pwa-install-banner",n.id="pwa-install-banner",n.setAttribute("role","dialog"),n.setAttribute("aria-label","Installer l'application"),n.innerHTML='\n      <div class="pwa-install-icon">5</div>\n      <div class="pwa-install-content">\n        <p class="pwa-install-title">Installer Cinq</p>\n        <p class="pwa-install-subtitle">AccÃ¨s rapide depuis ton Ã©cran d\'accueil</p>\n      </div>\n      <div class="pwa-install-actions">\n        <button class="pwa-install-btn pwa-install-btn-secondary" id="pwa-dismiss">\n          Plus tard\n        </button>\n        <button class="pwa-install-btn pwa-install-btn-primary" id="pwa-install">\n          Installer\n        </button>\n      </div>\n    ',n}(),document.body.appendChild(t),document.getElementById("pwa-install").addEventListener("click",async()=>{if(n){n.prompt();const{outcome:t}=await n.userChoice;console.log("[PWA] Install outcome:",t),n=null}l()}),document.getElementById("pwa-dismiss").addEventListener("click",()=>{i(),l()})),requestAnimationFrame(()=>{t.classList.add("visible")})}function l(){t&&(t.classList.remove("visible"),t.classList.add("hiding"),setTimeout(()=>{t.remove(),t=null},300))}function r(){s();const n=function(){const n=document.createElement("div");return n.className="pwa-ios-hint",n.id="pwa-ios-hint",n.setAttribute("role","dialog"),n.setAttribute("aria-label","Instructions d'installation"),n.innerHTML='\n      <button class="pwa-ios-close" id="pwa-ios-close" aria-label="Fermer">Ã—</button>\n      <div class="pwa-ios-title">\n        <div class="pwa-install-icon" style="width:40px;height:40px;font-size:20px;">5</div>\n        <h3>Installer Cinq</h3>\n      </div>\n      <div class="pwa-ios-steps">\n        <div class="pwa-ios-step">\n          <span class="pwa-ios-step-icon">ðŸ“¤</span>\n          <span>Appuie sur le bouton <strong>Partager</strong> en bas</span>\n        </div>\n        <div class="pwa-ios-step">\n          <span class="pwa-ios-step-icon">âž•</span>\n          <span>SÃ©lectionne <strong>Sur l\'Ã©cran d\'accueil</strong></span>\n        </div>\n        <div class="pwa-ios-step">\n          <span class="pwa-ios-step-icon">âœ…</span>\n          <span>Appuie sur <strong>Ajouter</strong></span>\n        </div>\n      </div>\n    ',n}();document.body.appendChild(n),requestAnimationFrame(()=>{n.classList.add("visible")}),document.getElementById("pwa-ios-close").addEventListener("click",()=>{i(),n.classList.remove("visible"),setTimeout(()=>n.remove(),300)})}function p(){e||function(){const n=localStorage.getItem(a);return!!n&&Date.now()-parseInt(n,10)<6048e5}()?console.log("[PWA] Install prompt skipped (standalone or dismissed)"):(window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),n=t,console.log("[PWA] beforeinstallprompt fired"),setTimeout(o,3e3)}),function(){const n=navigator.userAgent,t=/iPad|iPhone|iPod/.test(n)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,e=/Safari/.test(n)&&!/CriOS|FxiOS|OPiOS|EdgiOS/.test(n);return t&&e}()&&setTimeout(r,5e3),window.addEventListener("appinstalled",()=>{console.log("[PWA] App installed successfully"),n=null,l(),"function"==typeof gtag&&gtag("event","pwa_install",{event_category:"engagement"})}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",p):p()}();