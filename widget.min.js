!function(){"use strict";const n="https://cinq.app",e=`${n}/api/profile`,t={fr:{joinMe:"Rejoins-moi sur Cinq",contacts:"contacts",posts:"posts",member:"Membre depuis",join:"Me rejoindre",loading:"Chargement...",error:"Impossible de charger le profil",tagline:"L'anti-réseau social"},en:{joinMe:"Join me on Cinq",contacts:"contacts",posts:"posts",member:"Member since",join:"Join me",loading:"Loading...",error:"Unable to load profile",tagline:"The anti-social network"}};function i(){if(document.getElementById("cinq-widget-styles"))return;const n=document.createElement("style");n.id="cinq-widget-styles",n.textContent="\n            .cinq-widget {\n                --cinq-coral: #ff6b4a;\n                --cinq-coral-light: #ff8a6a;\n                --cinq-coral-dark: #e85a3a;\n                --cinq-gold: #fbbf24;\n                --cinq-lavender: #a78bfa;\n                --cinq-mint: #34d399;\n                --cinq-gradient: linear-gradient(135deg, #ff6b4a, #ff8a6a, #ffb08c);\n                --cinq-gradient-hover: linear-gradient(135deg, #ff7d5c, #ff9b7c, #ffc09c);\n                \n                font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n                box-sizing: border-box;\n            }\n\n            .cinq-widget *, .cinq-widget *::before, .cinq-widget *::after {\n                box-sizing: inherit;\n            }\n\n            /* Dark theme (default) */\n            .cinq-widget {\n                --bg-primary: #121218;\n                --bg-secondary: #1a1a22;\n                --bg-tertiary: #22222c;\n                --text-primary: #fafaf9;\n                --text-secondary: rgba(250, 250, 249, 0.85);\n                --text-muted: rgba(250, 250, 249, 0.55);\n                --border-color: rgba(255, 255, 255, 0.08);\n            }\n\n            /* Light theme */\n            .cinq-widget.cinq-light {\n                --bg-primary: #fafaf9;\n                --bg-secondary: #f5f5f4;\n                --bg-tertiary: #e7e5e4;\n                --text-primary: #1a1918;\n                --text-secondary: rgba(26, 25, 24, 0.8);\n                --text-muted: rgba(26, 25, 24, 0.58);\n                --border-color: rgba(0, 0, 0, 0.08);\n            }\n\n            .cinq-widget-card {\n                background: var(--bg-secondary);\n                border: 1px solid var(--border-color);\n                border-radius: 16px;\n                overflow: hidden;\n                max-width: 320px;\n                transition: transform 0.2s ease, box-shadow 0.2s ease;\n            }\n\n            .cinq-widget-card:hover {\n                transform: translateY(-2px);\n                box-shadow: 0 8px 24px rgba(255, 107, 74, 0.15);\n            }\n\n            /* Header with gradient */\n            .cinq-widget-header {\n                background: var(--cinq-gradient);\n                padding: 16px;\n                text-align: center;\n                position: relative;\n            }\n\n            .cinq-widget-header::after {\n                content: '';\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                height: 40px;\n                background: linear-gradient(to top, var(--bg-secondary), transparent);\n            }\n\n            .cinq-widget-logo {\n                font-family: 'Space Grotesk', sans-serif;\n                font-size: 1.25rem;\n                font-weight: 700;\n                color: #fff;\n                text-decoration: none;\n                display: inline-flex;\n                align-items: center;\n                gap: 6px;\n                position: relative;\n                z-index: 1;\n            }\n\n            .cinq-widget-logo svg {\n                width: 20px;\n                height: 20px;\n            }\n\n            /* Profile section */\n            .cinq-widget-profile {\n                padding: 20px;\n                text-align: center;\n                margin-top: -20px;\n                position: relative;\n                z-index: 2;\n            }\n\n            .cinq-widget-avatar {\n                width: 72px;\n                height: 72px;\n                border-radius: 50%;\n                border: 3px solid var(--cinq-coral);\n                box-shadow: 0 4px 12px rgba(255, 107, 74, 0.3);\n                object-fit: cover;\n                background: var(--bg-tertiary);\n            }\n\n            .cinq-widget-avatar-placeholder {\n                width: 72px;\n                height: 72px;\n                border-radius: 50%;\n                border: 3px solid var(--cinq-coral);\n                background: var(--cinq-gradient);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: #fff;\n                font-size: 28px;\n                font-weight: 600;\n                margin: 0 auto;\n            }\n\n            .cinq-widget-name {\n                font-family: 'Space Grotesk', sans-serif;\n                font-size: 1.25rem;\n                font-weight: 600;\n                color: var(--text-primary);\n                margin: 12px 0 4px;\n            }\n\n            .cinq-widget-bio {\n                font-size: 0.875rem;\n                color: var(--text-secondary);\n                margin: 0 0 12px;\n                line-height: 1.5;\n                max-height: 3em;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                display: -webkit-box;\n                -webkit-line-clamp: 2;\n                -webkit-box-orient: vertical;\n            }\n\n            /* Stats */\n            .cinq-widget-stats {\n                display: flex;\n                justify-content: center;\n                gap: 24px;\n                margin: 16px 0;\n            }\n\n            .cinq-widget-stat {\n                text-align: center;\n            }\n\n            .cinq-widget-stat-value {\n                font-family: 'Space Grotesk', sans-serif;\n                font-size: 1.5rem;\n                font-weight: 700;\n                color: var(--cinq-coral);\n            }\n\n            .cinq-widget-stat-label {\n                font-size: 0.75rem;\n                color: var(--text-muted);\n                text-transform: uppercase;\n                letter-spacing: 0.05em;\n            }\n\n            /* CTA Button */\n            .cinq-widget-cta {\n                display: block;\n                background: var(--cinq-gradient);\n                color: #fff;\n                text-decoration: none;\n                padding: 12px 24px;\n                border-radius: 12px;\n                font-weight: 600;\n                font-size: 0.9375rem;\n                text-align: center;\n                margin: 16px 20px 20px;\n                transition: all 0.2s ease;\n                box-shadow: 0 4px 12px rgba(255, 107, 74, 0.25);\n            }\n\n            .cinq-widget-cta:hover {\n                background: var(--cinq-gradient-hover);\n                transform: translateY(-1px);\n                box-shadow: 0 6px 16px rgba(255, 107, 74, 0.35);\n            }\n\n            .cinq-widget-cta:active {\n                transform: translateY(0);\n            }\n\n            /* Footer */\n            .cinq-widget-footer {\n                padding: 12px 20px;\n                border-top: 1px solid var(--border-color);\n                text-align: center;\n            }\n\n            .cinq-widget-tagline {\n                font-size: 0.75rem;\n                color: var(--text-muted);\n                margin: 0;\n            }\n\n            /* Sizes */\n            .cinq-widget.cinq-small .cinq-widget-card {\n                max-width: 240px;\n            }\n\n            .cinq-widget.cinq-small .cinq-widget-avatar,\n            .cinq-widget.cinq-small .cinq-widget-avatar-placeholder {\n                width: 56px;\n                height: 56px;\n                font-size: 22px;\n            }\n\n            .cinq-widget.cinq-small .cinq-widget-name {\n                font-size: 1rem;\n            }\n\n            .cinq-widget.cinq-small .cinq-widget-bio {\n                font-size: 0.8125rem;\n            }\n\n            .cinq-widget.cinq-small .cinq-widget-stats {\n                gap: 16px;\n            }\n\n            .cinq-widget.cinq-small .cinq-widget-stat-value {\n                font-size: 1.25rem;\n            }\n\n            .cinq-widget.cinq-large .cinq-widget-card {\n                max-width: 400px;\n            }\n\n            .cinq-widget.cinq-large .cinq-widget-avatar,\n            .cinq-widget.cinq-large .cinq-widget-avatar-placeholder {\n                width: 96px;\n                height: 96px;\n                font-size: 36px;\n            }\n\n            .cinq-widget.cinq-large .cinq-widget-name {\n                font-size: 1.5rem;\n            }\n\n            /* Loading state */\n            .cinq-widget-loading {\n                padding: 40px;\n                text-align: center;\n                color: var(--text-muted);\n            }\n\n            .cinq-widget-loading::after {\n                content: '';\n                display: block;\n                width: 24px;\n                height: 24px;\n                margin: 12px auto 0;\n                border: 2px solid var(--border-color);\n                border-top-color: var(--cinq-coral);\n                border-radius: 50%;\n                animation: cinq-spin 0.8s linear infinite;\n            }\n\n            @keyframes cinq-spin {\n                to { transform: rotate(360deg); }\n            }\n\n            /* Error state */\n            .cinq-widget-error {\n                padding: 24px;\n                text-align: center;\n                color: var(--text-muted);\n            }\n\n            .cinq-widget-error a {\n                color: var(--cinq-coral);\n                text-decoration: none;\n            }\n\n            .cinq-widget-error a:hover {\n                text-decoration: underline;\n            }\n        ",document.head.appendChild(n)}function a(){if(document.getElementById("cinq-widget-fonts"))return;const n=document.createElement("link");n.id="cinq-widget-fonts",n.rel="stylesheet",n.href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@600;700&family=Inter:wght@400;500;600&display=swap",document.head.appendChild(n)}function r(n){return"light"===n?"light":"dark"===n?"dark":window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}function o(e,i,a){const r=t[a.lang]||t.fr,o=`${n}/profile.html?user=${encodeURIComponent(i.display_name||i.id)}`,c=i.avatar_url?`<img src="${i.avatar_url}" alt="${i.display_name}" class="cinq-widget-avatar" loading="lazy">`:`<div class="cinq-widget-avatar-placeholder">${function(n){if(!n)return"?";const e=n.trim().split(/\s+/);return 1===e.length?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}(i.display_name)}</div>`;e.innerHTML=`\n            <div class="cinq-widget-card">\n                <div class="cinq-widget-header">\n                    <a href="${n}" target="_blank" rel="noopener" class="cinq-widget-logo">\n                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 9.27L5.82 21H18.18L22 9.27L12 2Z"/></svg>\n                        Cinq\n                    </a>\n                </div>\n                <div class="cinq-widget-profile">\n                    ${c}\n                    <h3 class="cinq-widget-name">${i.display_name||"Anonyme"}</h3>\n                    ${i.bio?`<p class="cinq-widget-bio">${i.bio}</p>`:""}\n                    <div class="cinq-widget-stats">\n                        <div class="cinq-widget-stat">\n                            <div class="cinq-widget-stat-value">${i.stats?.contactCount??0}/5</div>\n                            <div class="cinq-widget-stat-label">${r.contacts}</div>\n                        </div>\n                        <div class="cinq-widget-stat">\n                            <div class="cinq-widget-stat-value">${i.stats?.postCount??0}</div>\n                            <div class="cinq-widget-stat-label">${r.posts}</div>\n                        </div>\n                    </div>\n                </div>\n                <a href="${o}" target="_blank" rel="noopener" class="cinq-widget-cta">\n                    ${r.joinMe} →\n                </a>\n                <div class="cinq-widget-footer">\n                    <p class="cinq-widget-tagline">${r.tagline}</p>\n                </div>\n            </div>\n        `}function c(n,e){const i=t[e.lang]||t.fr;n.innerHTML=`\n            <div class="cinq-widget-card">\n                <div class="cinq-widget-loading">${i.loading}</div>\n            </div>\n        `}function d(e,i){const a=t[i.lang]||t.fr;e.innerHTML=`\n            <div class="cinq-widget-card">\n                <div class="cinq-widget-error">\n                    ${a.error}<br>\n                    <a href="${n}" target="_blank" rel="noopener">Visiter Cinq →</a>\n                </div>\n            </div>\n        `}async function s(n){const t=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n),i=`${e}?${t?"id":"user"}=${encodeURIComponent(n)}`,a=await fetch(i,{headers:{Accept:"application/json"}});if(!a.ok)throw new Error(`HTTP ${a.status}`);return(await a.json()).profile}async function l(){const n=document.querySelectorAll('script[src*="widget.js"]'),e=n[n.length-1];if(!e)return void console.error("[Cinq Widget] Script tag not found");const t=e.dataset.user;if(!t)return void console.error("[Cinq Widget] data-user attribute is required");const l={user:t,theme:e.dataset.theme||"auto",size:e.dataset.size||"medium",container:e.dataset.container||"cinq-widget",lang:e.dataset.lang||"fr"};let g=document.getElementById(l.container);g||(g=document.createElement("div"),g.id=l.container,e.parentNode.insertBefore(g,e.nextSibling));const p="light"===r(l.theme)?"cinq-light":"",f="medium"!==l.size?`cinq-${l.size}`:"";g.className=`cinq-widget ${p} ${f}`.trim(),i(),a(),c(g,l);try{o(g,await s(l.user),l)}catch(n){console.error("[Cinq Widget] Error loading profile:",n),d(g,l)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l(),window.CinqWidget={init:l,render:async function(n,e,t={}){const l=document.getElementById(n);if(!l)return void console.error("[Cinq Widget] Container not found:",n);const g={user:e,theme:t.theme||"auto",size:t.size||"medium",lang:t.lang||"fr"},p="light"===r(g.theme)?"cinq-light":"",f="medium"!==g.size?`cinq-${g.size}`:"";l.className=`cinq-widget ${p} ${f}`.trim(),i(),a(),c(l,g);try{o(l,await s(e),g)}catch(n){console.error("[Cinq Widget] Error loading profile:",n),d(l,g)}}}}();