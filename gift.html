<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Offrir Cinq — L'anti-réseau social</title>
    
    <!-- SEO -->
    <meta name="description" content="Offre Cinq à quelqu'un qui compte. L'anti-réseau social où tu choisis tes 5 proches. Un cadeau unique pour renforcer les liens qui comptent vraiment.">
    <meta name="keywords" content="cinq, cadeau, offrir, réseau social, anti-réseau, proches, amis, famille">
    <meta name="author" content="Cinq">
    <meta name="robots" content="index, follow">
    
    <!-- Canonical -->
    <link rel="canonical" href="https://cinq.app/gift">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Offrir Cinq — L'anti-réseau social">
    <meta property="og:description" content="Offre Cinq à quelqu'un qui compte. 5 proches, pas de likes, pas d'algorithme.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://cinq.app/gift.html">
    <meta property="og:image" content="https://cinq.app/og-image.png">
    <meta property="og:site_name" content="Cinq">
    <meta property="og:locale" content="fr_FR">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Offrir Cinq">
    <meta name="twitter:description" content="Offre Cinq à quelqu'un qui compte vraiment.">
    <meta name="twitter:image" content="https://cinq.app/og-image.png">
    <meta name="twitter:site" content="@cinqapp">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Cinq - Carte Cadeau",
        "description": "Offre Cinq à quelqu'un qui compte. L'anti-réseau social où tu choisis tes 5 proches.",
        "brand": {
            "@type": "Organization",
            "name": "Cinq",
            "url": "https://cinq.app"
        },
        "offers": {
            "@type": "Offer",
            "availability": "https://schema.org/InStock",
            "price": "0",
            "priceCurrency": "EUR",
            "url": "https://cinq.app/gift"
        },
        "image": "https://cinq.app/og-image.png"
    }
    </script>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <meta name="theme-color" content="#0e0e12" id="theme-color-meta">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/icon-192x192.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap"></noscript>
    
    <!-- Design System -->
    <link rel="stylesheet" href="/design/styles.min.css">
    <link rel="stylesheet" href="/css/a11y.min.css">
    <link rel="stylesheet" href="/css/mobile-responsive.min.css">
    
    <!-- Theme CSS -->
    <link rel="stylesheet" href="/css/theme.min.css">
    
    <!-- Theme initialization -->
    <script>
        (function(){var h=document.documentElement,s=localStorage.getItem('cinq_theme'),p=s||'dark',t=p;if(p==='auto'){t=window.matchMedia&&window.matchMedia('(prefers-color-scheme:light)').matches?'light':'dark'}h.setAttribute('data-theme',t);h.setAttribute('data-theme-preference',p);h.classList.add('theme-loading');var m=document.getElementById('theme-color-meta');if(m)m.content=t==='light'?'#faf9f7':'#0e0e12';var a=localStorage.getItem('cinq_accent')||'indigo';h.setAttribute('data-accent',a)})();
        var THEMES=['dark','light','auto'];
        function getSystemPref(){return window.matchMedia&&window.matchMedia('(prefers-color-scheme:light)').matches?'light':'dark'}
        function getEffective(p){return p==='auto'?getSystemPref():(p||'dark')}
        function toggleTheme(){var h=document.documentElement,c=localStorage.getItem('cinq_theme')||'dark',n=THEMES[(THEMES.indexOf(c)+1)%3],e=getEffective(n);h.classList.add('theme-transitioning');h.setAttribute('data-theme',e);h.setAttribute('data-theme-preference',n);localStorage.setItem('cinq_theme',n);var m=document.getElementById('theme-color-meta');if(m)m.content=e==='light'?'#faf9f7':'#0e0e12';setTimeout(function(){h.classList.remove('theme-transitioning')},400)}
        requestAnimationFrame(function(){requestAnimationFrame(function(){document.documentElement.classList.remove('theme-loading')})});
    </script>

    <style>
        /* ===== LAYOUT ===== */
        body {
            font-family: var(--font-body);
            background: var(--color-bg-primary);
            color: var(--color-text-primary);
            line-height: var(--leading-normal);
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            padding: 0;
            margin: 0;
        }
        
        .main-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: var(--space-5);
            padding-top: calc(var(--space-5) + 80px);
            position: relative;
            overflow-x: hidden;
        }
        
        /* Mobile-first responsive */
        @media (max-width: 390px) {
            .main-container {
                padding: var(--space-4);
                padding-top: calc(var(--space-4) + 70px);
            }
        }

        /* ===== HERO SECTION ===== */
        .hero-section {
            text-align: center;
            max-width: 580px;
            width: 100%;
            margin-bottom: var(--space-10);
            position: relative;
        }
        
        .hero-logo {
            font-family: var(--font-display);
            font-size: clamp(4rem, 10vw, 6rem);
            font-weight: 700;
            margin-bottom: var(--space-5);
            background: var(--cinq-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 4px 20px var(--color-brand-glow));
            position: relative;
            display: inline-block;
            animation: hero-float 4s ease-in-out infinite;
        }
        
        @keyframes hero-float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .hero-title {
            font-family: var(--font-display);
            font-size: clamp(var(--text-2xl), 6vw, var(--text-4xl));
            font-weight: 600;
            line-height: var(--leading-tight);
            letter-spacing: var(--tracking-tight);
            margin-bottom: var(--space-4);
            background: linear-gradient(135deg, var(--color-text-primary), var(--color-text-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-subtitle {
            font-size: var(--text-lg);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-2);
            line-height: var(--leading-relaxed);
        }
        
        .hero-price {
            font-size: var(--text-base);
            color: var(--color-brand);
            font-weight: 600;
            background: var(--color-brand-muted);
            border: 1px solid rgba(255, 107, 74, 0.2);
            border-radius: var(--radius-full);
            padding: var(--space-2) var(--space-4);
            display: inline-block;
            animation: price-pulse 2s ease-in-out infinite;
        }
        
        @keyframes price-pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 107, 74, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 8px rgba(255, 107, 74, 0); }
        }

        /* ===== HOW IT WORKS SECTION ===== */
        .how-it-works {
            width: 100%;
            max-width: 580px;
            margin-bottom: var(--space-10);
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-2xl);
            padding: var(--space-8);
            position: relative;
            backdrop-filter: blur(20px);
        }
        
        .how-it-works::before {
            content: '';
            position: absolute;
            top: 0;
            left: var(--space-6);
            right: var(--space-6);
            height: 1px;
            background: var(--glass-highlight);
            opacity: 0.6;
        }
        
        .section-title {
            font-family: var(--font-display);
            font-size: var(--text-xl);
            font-weight: 600;
            text-align: center;
            margin-bottom: var(--space-6);
            color: var(--color-text-primary);
        }
        
        .steps-container {
            display: flex;
            flex-direction: column;
            gap: var(--space-5);
        }
        
        .step {
            display: flex;
            align-items: flex-start;
            gap: var(--space-4);
            padding: var(--space-4);
            background: var(--color-bg-tertiary);
            border-radius: var(--radius-xl);
            border: 1px solid var(--color-border);
            transition: all var(--transition-base) var(--ease-spring);
            position: relative;
            overflow: hidden;
        }
        
        .step::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--cinq-gradient);
            opacity: 0;
            transition: opacity var(--transition-base);
        }
        
        .step:hover::before {
            opacity: 1;
        }
        
        .step:hover {
            transform: translateY(-2px);
            border-color: var(--color-border-active);
            box-shadow: var(--shadow-lg);
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            background: var(--cinq-gradient);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-base);
            font-weight: 700;
            flex-shrink: 0;
            box-shadow: var(--shadow-glow-sm);
        }
        
        .step-content h3 {
            font-family: var(--font-display);
            font-size: var(--text-base);
            font-weight: 600;
            margin-bottom: var(--space-2);
            color: var(--color-text-primary);
        }
        
        .step-content p {
            font-size: var(--text-sm);
            color: var(--color-text-secondary);
            line-height: var(--leading-relaxed);
            margin: 0;
        }

        /* ===== GIFT FORM SECTION ===== */
        .gift-form-section {
            width: 100%;
            max-width: 580px;
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-2xl);
            padding: var(--space-8);
            position: relative;
            backdrop-filter: blur(20px);
            animation: card-enter 0.6s var(--ease-out-expo) 0.2s both;
        }
        
        @keyframes card-enter {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        .gift-form-section::before {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: inherit;
            background: var(--cinq-gradient);
            opacity: 0.1;
            z-index: -1;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            padding: 1px;
            transition: opacity var(--transition-base);
        }
        
        .gift-form-section:hover::before {
            opacity: 0.2;
        }
        
        .gift-form-section::after {
            content: '';
            position: absolute;
            top: 0;
            left: var(--space-6);
            right: var(--space-6);
            height: 1px;
            background: var(--glass-highlight);
            opacity: 0.8;
        }
        
        .form-title {
            font-family: var(--font-display);
            font-size: var(--text-xl);
            font-weight: 600;
            text-align: center;
            margin-bottom: var(--space-6);
            color: var(--color-text-primary);
        }
        
        .input-group {
            margin-bottom: var(--space-6);
        }
        
        .input-label {
            display: block;
            font-size: var(--text-sm);
            font-weight: 500;
            color: var(--color-text-secondary);
            margin-bottom: var(--space-2);
        }
        
        .input-field {
            width: 100%;
            padding: var(--space-4);
            background: var(--color-bg-elevated);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            font-size: var(--text-base);
            color: var(--color-text-primary);
            transition: all var(--transition-base);
            min-height: 44px;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--color-brand);
            box-shadow: 0 0 0 3px rgba(255, 107, 74, 0.1);
            background: var(--color-bg-secondary);
        }
        
        .input-field::placeholder {
            color: var(--color-text-muted);
        }
        
        .optional-badge {
            font-size: var(--text-xs);
            color: var(--color-text-muted);
            background: var(--color-bg-tertiary);
            border-radius: var(--radius-sm);
            padding: 2px var(--space-2);
            margin-left: var(--space-2);
        }
        
        .generate-button {
            width: 100%;
            padding: var(--space-4);
            background: var(--cinq-gradient);
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            font-family: var(--font-display);
            font-size: var(--text-base);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base) var(--ease-spring);
            box-shadow: var(--shadow-glow-sm);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            min-height: 48px;
        }
        
        .generate-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }
        
        .generate-button:hover:not(:disabled) {
            transform: translateY(-2px) scale(1.02);
            box-shadow: var(--shadow-glow);
        }
        
        .generate-button:hover:not(:disabled)::before {
            left: 100%;
        }
        
        .generate-button:active:not(:disabled) {
            transform: translateY(0) scale(0.98);
        }
        
        .generate-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .loading-spinner {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== RESULT SECTION ===== */
        .result-section {
            margin-top: var(--space-6);
            padding-top: var(--space-6);
            border-top: 1px solid var(--color-border);
            display: none;
            animation: result-enter 0.5s var(--ease-out-expo);
        }
        
        @keyframes result-enter {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-section.show {
            display: block;
        }
        
        .code-container {
            background: var(--color-bg-elevated);
            border: 2px solid var(--color-brand);
            border-radius: var(--radius-xl);
            padding: var(--space-5);
            margin: var(--space-4) 0;
            position: relative;
            overflow: hidden;
            text-align: center;
        }
        
        .code-container::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--cinq-gradient);
            opacity: 0.05;
            border-radius: inherit;
        }
        
        .code-label {
            font-size: var(--text-xs);
            color: var(--color-text-muted);
            margin-bottom: var(--space-3);
            text-transform: uppercase;
            letter-spacing: var(--tracking-wider);
            font-weight: 500;
        }
        
        .gift-code {
            font-size: var(--text-2xl);
            font-weight: 700;
            font-family: 'JetBrains Mono', 'Monaco', 'Menlo', monospace;
            color: var(--color-brand);
            letter-spacing: 0.1em;
            word-break: break-all;
            margin-bottom: var(--space-4);
        }
        
        .share-url-container {
            background: var(--color-bg-tertiary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            margin: var(--space-4) 0;
        }
        
        .share-label {
            font-size: var(--text-xs);
            color: var(--color-text-muted);
            margin-bottom: var(--space-2);
            font-weight: 500;
        }
        
        .share-url {
            font-size: var(--text-sm);
            color: var(--color-text-secondary);
            word-break: break-all;
            line-height: var(--leading-relaxed);
        }
        
        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-3);
            margin-top: var(--space-5);
        }
        
        @media (max-width: 390px) {
            .action-buttons {
                grid-template-columns: 1fr;
            }
        }
        
        .action-button {
            padding: var(--space-3) var(--space-4);
            background: var(--color-bg-tertiary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            color: var(--color-text-primary);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-base) var(--ease-spring);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            min-height: 44px;
            text-decoration: none;
        }
        
        .action-button:hover {
            background: var(--color-bg-elevated);
            border-color: var(--color-border-active);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }
        
        .action-button:active {
            transform: translateY(0) scale(0.98);
        }
        
        .action-button.primary {
            background: var(--cinq-gradient);
            border-color: transparent;
            color: white;
        }
        
        .action-button.primary:hover {
            box-shadow: var(--shadow-glow-sm);
            transform: translateY(-2px);
        }
        
        .action-button.success {
            background: var(--color-success-muted);
            border-color: var(--color-success);
            color: var(--color-success);
        }

        /* ===== ERROR MESSAGE ===== */
        .error-message {
            margin-top: var(--space-4);
            padding: var(--space-4);
            background: var(--color-error-muted);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: var(--radius-lg);
            color: var(--color-error);
            font-size: var(--text-sm);
            display: none;
            align-items: center;
            gap: var(--space-2);
            animation: error-enter 0.3s var(--ease-out-expo);
        }
        
        @keyframes error-enter {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .error-message.show {
            display: flex;
        }

        /* ===== HEADER ===== */
        .site-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: var(--z-sticky);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-3) var(--space-5);
            background: rgba(14, 14, 18, 0.8);
            backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid var(--color-border-subtle);
            transition: background var(--transition-theme);
        }
        
        [data-theme="light"] .site-header {
            background: rgba(250, 249, 247, 0.8);
        }
        
        .header-logo {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            text-decoration: none;
            transition: transform var(--transition-base);
        }
        
        .header-logo:hover {
            transform: scale(1.05);
        }
        
        .header-logo-icon {
            width: 32px;
            height: 32px;
        }
        
        .header-logo-text {
            font-family: var(--font-display);
            font-weight: 600;
            color: var(--color-text-primary);
            font-size: var(--text-lg);
        }
        
        .header-nav {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }
        
        .theme-toggle {
            width: 40px;
            height: 40px;
            background: var(--color-bg-tertiary);
            border: 1px solid var(--color-border);
            border-radius: 50%;
            cursor: pointer;
            transition: all var(--transition-base);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-text-secondary);
        }
        
        .theme-toggle:hover {
            background: var(--color-bg-elevated);
            transform: scale(1.05);
        }
        
        .header-login {
            padding: var(--space-2) var(--space-4);
            background: var(--color-bg-tertiary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-full);
            color: var(--color-text-primary);
            font-size: var(--text-sm);
            font-weight: 500;
            text-decoration: none;
            transition: all var(--transition-base);
            min-height: 44px;
            display: flex;
            align-items: center;
        }
        
        .header-login:hover {
            background: var(--color-brand);
            border-color: var(--color-brand);
            color: white;
        }

        /* ===== BACK LINK ===== */
        .back-link {
            text-align: center;
            margin-top: var(--space-8);
            padding-top: var(--space-6);
        }
        
        .back-link a {
            font-size: var(--text-sm);
            color: var(--color-text-muted);
            text-decoration: none;
            transition: color var(--transition-base);
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-md);
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .back-link a:hover {
            color: var(--color-brand);
            background: var(--color-bg-tertiary);
        }

        /* ===== BACKGROUND EFFECTS ===== */
        .noise-overlay {
            position: fixed;
            inset: 0;
            opacity: 0.015;
            pointer-events: none;
            z-index: -1;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }
        
        .gradient-orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.1;
            pointer-events: none;
            z-index: -1;
            animation: orb-float 8s ease-in-out infinite;
        }
        
        @keyframes orb-float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -30px) scale(1.1); }
            66% { transform: translate(-30px, 20px) scale(0.9); }
        }
        
        .gradient-orb-1 {
            width: 400px;
            height: 400px;
            background: var(--color-brand);
            top: -100px;
            right: -100px;
            animation-delay: 0s;
        }
        
        .gradient-orb-2 {
            width: 300px;
            height: 300px;
            background: #a78bfa;
            bottom: -50px;
            left: -50px;
            animation-delay: -4s;
        }
        
        /* ===== SKIP LINKS ===== */
        .skip-links {
            position: absolute;
            top: -100px;
            left: var(--space-4);
            z-index: var(--z-max);
        }
        
        .skip-link {
            background: var(--color-brand);
            color: white;
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-md);
            text-decoration: none;
            font-weight: 500;
            transition: top var(--transition-base);
        }
        
        .skip-link:focus {
            top: var(--space-4);
        }

        /* ===== REDUCED MOTION ===== */
        @media (prefers-reduced-motion: reduce) {
            .hero-logo,
            .hero-price,
            .card-enter,
            .result-enter,
            .error-enter,
            .gradient-orb {
                animation: none !important;
            }
            
            .generate-button::before {
                display: none;
            }
            
            * {
                transition-duration: 0.01ms !important;
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
            }
        }
    </style>
</head>
<body>
    <!-- Skip Links -->
    <nav class="skip-links">
        <a href="#main-content" class="skip-link">Aller au contenu principal</a>
        <a href="#gift-form" class="skip-link">Aller au formulaire</a>
    </nav>
    
    <!-- Background Effects -->
    <div class="noise-overlay" aria-hidden="true"></div>
    <div class="gradient-orb gradient-orb-1" aria-hidden="true"></div>
    <div class="gradient-orb gradient-orb-2" aria-hidden="true"></div>
    
    <!-- Header -->
    <header class="site-header" role="banner">
        <a href="/" class="header-logo" aria-label="Cinq - Accueil">
            <span class="header-logo-icon">
                <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 2L29.5 11.5L24.5 27.5H7.5L2.5 11.5L16 2Z" stroke="url(#logo-gradient)" stroke-width="2" fill="none"/>
                    <text x="16" y="20" text-anchor="middle" font-family="Space Grotesk, sans-serif" font-size="12" font-weight="700" fill="url(#logo-gradient)">5</text>
                    <defs>
                        <linearGradient id="logo-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ff6b4a"/>
                            <stop offset="50%" style="stop-color:#ff8a6a"/>
                            <stop offset="100%" style="stop-color:#fbbf24"/>
                        </linearGradient>
                    </defs>
                </svg>
            </span>
            <span class="header-logo-text">cinq</span>
        </a>
        <nav class="header-nav" aria-label="Navigation principale">
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Changer de thème" type="button">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
            <a href="/login.html" class="header-login">Se connecter</a>
        </nav>
    </header>
    
    <!-- Main Content -->
    <main id="main-content" class="main-container">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-logo" aria-hidden="true">5</div>
            <h1 class="hero-title">Offre Cinq à quelqu'un qui compte</h1>
            <p class="hero-subtitle">L'anti-réseau social où les liens vrais passent avant les likes.</p>
            <div class="hero-price">✨ Gratuit pendant la bêta</div>
        </section>
        
        <!-- How It Works -->
        <section class="how-it-works">
            <h2 class="section-title">Comment ça marche ?</h2>
            <div class="steps-container">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Génère ton code</h3>
                        <p>Crée un code d'invitation unique en quelques secondes</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Partage avec style</h3>
                        <p>Envoie le lien directement à la personne de ton choix</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Connectez-vous</h3>
                        <p>Il s'inscrit avec ton code et vous voilà dans le même cercle</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Gift Form -->
        <section class="gift-form-section" id="gift-form">
            <h2 class="form-title">Créer ton invitation</h2>
            
            <form id="gift-form-element" onsubmit="return false;">
                <div class="input-group">
                    <label for="recipient-name" class="input-label">
                        Pour qui ? 
                        <span class="optional-badge">optionnel</span>
                    </label>
                    <input 
                        type="text" 
                        id="recipient-name" 
                        class="input-field"
                        placeholder="Le prénom de la personne"
                        autocomplete="given-name"
                    >
                </div>
                
                <button 
                    type="button" 
                    class="generate-button" 
                    id="generate-button"
                    onclick="generateGiftCode()"
                    aria-describedby="button-help"
                >
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <rect x="3" y="8" width="18" height="13" rx="2"/>
                        <path d="M12 8v13"/>
                        <path d="M3 12h18"/>
                    </svg>
                    <span id="button-text">Générer le code cadeau</span>
                </button>
                
                <div class="error-message" id="error-message" role="alert">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="8" x2="12" y2="12"/>
                        <line x1="12" y1="16" x2="12.01" y2="16"/>
                    </svg>
                    <span id="error-text"></span>
                </div>
            </form>
            
            <!-- Result Section -->
            <div class="result-section" id="result-section" role="region" aria-label="Code généré">
                <div class="code-container">
                    <div class="code-label">Ton code cadeau</div>
                    <div class="gift-code" id="gift-code" aria-label="Code cadeau généré"></div>
                </div>
                
                <div class="share-url-container">
                    <div class="share-label">Lien à partager</div>
                    <div class="share-url" id="share-url"></div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-button" id="copy-button" onclick="copyToClipboard()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" id="copy-icon">
                            <rect x="9" y="9" width="13" height="13" rx="2"/>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                        </svg>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" id="check-icon" style="display: none;">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        <span id="copy-text">Copier le lien</span>
                    </button>
                    
                    <button class="action-button primary" id="share-button" onclick="shareNative()" style="display: none;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <circle cx="18" cy="5" r="3"/>
                            <circle cx="6" cy="12" r="3"/>
                            <circle cx="18" cy="19" r="3"/>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                        </svg>
                        <span>Partager</span>
                    </button>
                </div>
            </div>
            
            <div class="back-link">
                <a href="/" aria-label="Retour à l'accueil">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"/>
                    </svg>
                    Retour à l'accueil
                </a>
            </div>
        </section>
    </main>

    <script>
        let currentShareUrl = '';
        let currentGiftCode = '';
        
        // Check for Web Share API support
        if ('share' in navigator) {
            document.getElementById('share-button').style.display = 'flex';
        }
        
        async function generateGiftCode() {
            const button = document.getElementById('generate-button');
            const buttonText = document.getElementById('button-text');
            const errorMessage = document.getElementById('error-message');
            const errorText = document.getElementById('error-text');
            const resultSection = document.getElementById('result-section');
            const recipientName = document.getElementById('recipient-name').value.trim();
            
            // Show loading state
            button.disabled = true;
            buttonText.innerHTML = '<span class="loading-spinner"></span> Génération...';
            errorMessage.classList.remove('show');
            
            try {
                const response = await fetch('/api/gift?action=create', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        recipientName: recipientName || null
                    })
                });
                
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.error || 'Erreur lors de la génération du code');
                }
                
                if (data.code) {
                    // Success - update UI
                    currentGiftCode = data.code;
                    currentShareUrl = data.gift?.shareUrl || `${window.location.origin}/register.html?code=${data.code}`;
                    
                    document.getElementById('gift-code').textContent = currentGiftCode;
                    document.getElementById('share-url').textContent = currentShareUrl;
                    
                    // Show result section
                    resultSection.classList.add('show');
                    
                    // Reset copy button
                    resetCopyButton();
                    
                    // Update button for next generation
                    buttonText.innerHTML = `
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <rect x="3" y="8" width="18" height="13" rx="2"/>
                            <path d="M12 8v13"/>
                            <path d="M3 12h18"/>
                        </svg>
                        Générer un autre code
                    `;
                } else {
                    throw new Error('Réponse invalide du serveur');
                }
            } catch (error) {
                // Error handling
                errorText.textContent = error.message;
                errorMessage.classList.add('show');
                
                buttonText.innerHTML = `
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <rect x="3" y="8" width="18" height="13" rx="2"/>
                        <path d="M12 8v13"/>
                        <path d="M3 12h18"/>
                    </svg>
                    Réessayer
                `;
            }
            
            button.disabled = false;
        }
        
        function resetCopyButton() {
            const button = document.getElementById('copy-button');
            const copyIcon = document.getElementById('copy-icon');
            const checkIcon = document.getElementById('check-icon');
            const copyText = document.getElementById('copy-text');
            
            button.classList.remove('success');
            copyIcon.style.display = 'block';
            checkIcon.style.display = 'none';
            copyText.textContent = 'Copier le lien';
        }
        
        async function copyToClipboard() {
            if (!currentShareUrl) return;
            
            const button = document.getElementById('copy-button');
            const copyIcon = document.getElementById('copy-icon');
            const checkIcon = document.getElementById('check-icon');
            const copyText = document.getElementById('copy-text');
            
            try {
                await navigator.clipboard.writeText(currentShareUrl);
                
                // Success feedback
                button.classList.add('success');
                copyIcon.style.display = 'none';
                checkIcon.style.display = 'block';
                copyText.textContent = 'Copié !';
                
                // Reset after 2 seconds
                setTimeout(resetCopyButton, 2000);
            } catch (error) {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = currentShareUrl;
                textArea.style.position = 'fixed';
                textArea.style.left = '-9999px';
                textArea.style.top = '-9999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    
                    // Success feedback
                    button.classList.add('success');
                    copyIcon.style.display = 'none';
                    checkIcon.style.display = 'block';
                    copyText.textContent = 'Copié !';
                    
                    setTimeout(resetCopyButton, 2000);
                } catch (err) {
                    console.error('Erreur lors de la copie:', err);
                } finally {
                    document.body.removeChild(textArea);
                }
            }
        }
        
        async function shareNative() {
            if (!('share' in navigator) || !currentShareUrl) return;
            
            const recipientName = document.getElementById('recipient-name').value.trim();
            const shareText = recipientName 
                ? `${recipientName}, tu as reçu une invitation pour Cinq ! Code: ${currentGiftCode}`
                : `Tu as reçu une invitation pour Cinq ! Code: ${currentGiftCode}`;
            
            try {
                await navigator.share({
                    title: 'Invitation Cinq',
                    text: shareText,
                    url: currentShareUrl
                });
            } catch (error) {
                if (error.name !== 'AbortError') {
                    console.error('Erreur de partage:', error);
                }
            }
        }
        
        // Enter key support on input
        document.getElementById('recipient-name').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateGiftCode();
            }
        });
    </script>
</body>
</html>